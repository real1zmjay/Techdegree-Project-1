System.register(["./chunk-vendor.js","./chunk-frameworks.js"],(function(t,e){"use strict";var n,o,r,i,s,a;return{setters:[function(t){n=t.o,o=t.a,r=t.r},function(t){i=t.B,s=t.a$,a=t.b}],execute:function(){n("click",".js-new-user-contrib-example",(async function(t){const e=document.querySelector(".js-calendar-graph");if(e.classList.contains("sample-graph"))return;e.classList.add("sample-graph");const n=t.currentTarget.getAttribute("data-url");let o;try{o=await(await i(n)).text()}catch(s){return void e.classList.remove("sample-graph")}const r=document.createElement("div");r.innerHTML=o;e.querySelector(".js-calendar-graph-svg").replaceWith(r.children[0])}));let t=null;function c(){const t=document.querySelector(".js-calendar-graph").getAttribute("data-url");return new URL(t,window.location.origin)}function l(t){const e=t.target;e.matches("rect.day")&&(u(),function(t){const e=t.getAttribute("data-date"),n=function(t,e){const n=`${d[e.getUTCMonth()].slice(0,3)} ${e.getUTCDate()}, ${e.getUTCFullYear()}`,o=0===t?"No":new Intl.NumberFormat("en-US").format(t),r=document.createElement("div");r.classList.add("svg-tip","svg-tip-one-line"),r.style.pointerEvents="none";const i=document.createElement("strong");return i.textContent=`${o} ${1===t?"contribution":"contributions"}`,r.append(i," on "+n),r}(parseInt(t.getAttribute("data-count")||""),b(e));document.body.appendChild(n);const o=t.getBoundingClientRect(),r=o.left+window.pageXOffset-n.offsetWidth/2+o.width/2,i=o.bottom+window.pageYOffset-n.offsetHeight-2*o.height;n.style.top=i+"px",n.style.left=r+"px"}(e))}function u(){const t=document.querySelector(".svg-tip");t&&t.remove()}o(".js-calendar-graph-svg",(function(e){const n=e.closest(".js-calendar-graph");n.addEventListener("mouseover",l),n.addEventListener("mouseout",u);const o=n.getAttribute("data-from");o&&(t=b(o))})),n("click",".js-calendar-graph rect.day",(function(e){const n=e.currentTarget,o=n.closest(".js-calendar-graph").getAttribute("data-org"),r=n.getAttribute("data-date");n.classList.contains("active")?L(v()):function(e,n,o){let r,i;if(t&&n){const n=t.getTime(),o=26784e5,s=n-o,a=n+o;[r,i]=e>t?[t,e]:[e,t],r=new Date(Math.max(r.getTime(),s)),i=new Date(Math.min(i.getTime(),a)),t=null}else t=i=r=e;g(r,i);const s=c(),a=f(s.search.slice(1),{from:r,to:i,org:o});a.append("tab","overview"),s.search=a.toString(),m(s.toString())}(b(r),e.shiftKey,o)}));const d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];async function m(t){const e=document.getElementById("js-contribution-activity");if(!e)return;e.classList.add("loading");const n=await a(document,t);e.classList.remove("loading"),e.innerHTML="",e.append(n)}function f(t,e){const n=new URLSearchParams(t);n.delete("from"),n.delete("to"),n.delete("org");let o=e.fromStr;e.from&&(o=j(e.from)),o&&n.append("from",o);let r=e.toStr;e.to&&(r=j(e.to)),r&&n.append("to",r);const i=e.org;return i&&n.append("org",i),n}async function p(t,e,n){const o=document.querySelector(".js-calendar-graph").getAttribute("data-graph-url"),r=new URL(o,window.location.origin),i=f(r.search.slice(1),{from:t,to:e,org:n});r.search=i.toString();const s=await a(document,r.toString());document.querySelector(".js-yearly-contributions").replaceWith(s)}function g(t,e){const n=document.querySelector(".js-calendar-graph"),o=n.querySelectorAll("rect.day");for(const i of o)i.classList.remove("active");if(n.classList.remove("days-selected"),t||e){n.classList.add("days-selected");for(const t of o)r(t)&&t.classList.add("active")}function r(n){const o=b(n.getAttribute("data-date")||"").getTime();return t&&e?t.getTime()<=o&&o<=e.getTime():t?o===t.getTime():void 0}}function h(){const t=document.querySelector(".js-calendar-graph").querySelectorAll("rect.active"),e=t[0],n=t[t.length-1],o=e&&e.getAttribute("data-date"),r=n&&n.getAttribute("data-date");return o&&r?{first:o,last:r}:null}function y(){return h()||function(){const t=new URLSearchParams(window.location.search.slice(1)),e=t.get("from"),n=t.get("to");return e&&n?{first:e,last:n}:null}()||function(){const t=new URL(v(),window.location.origin),e=new URLSearchParams(t.search.slice(1)),n=e.get("from"),o=e.get("to");return n&&o?{first:n,last:o}:null}()}function w(t){return("0"+t).slice(-2)}function j(t){return`${t.getUTCFullYear()}-${w(t.getUTCMonth()+1)}-${w(t.getUTCDate())}`}function b(t){const[e,n,o]=t.split("-").map((t=>parseInt(t,10)));return new Date(Date.UTC(e,n-1,o))}async function S(t){const e=h(),n=function(){const t=document.querySelector(".js-calendar-graph");return{first:t.getAttribute("data-from"),last:t.getAttribute("data-to")}}(),o=new Date(n.first),r=new Date(n.last);if(await p(o,r,t),e){g(new Date(e.first),new Date(e.last))}}function v(){return document.querySelector(".js-profile-timeline-year-list .js-year-link.selected").href||""}function L(t){const e=new URL(t,window.location.origin).search,n=new URLSearchParams(e.slice(1)),o=n.get("org"),r=n.get("from"),i=n.get("to"),s=new Date(r),a=new Date(i);p(s,a,o);const l=c(),u=f(l.search.slice(1),{from:s,to:a,org:o});u.append("tab","overview"),l.search=u.toString(),m(l.toString())}function k(t){const e=t.closest(".js-details-container");e&&e.classList.add("open");const n=t.getBoundingClientRect(),o=window.scrollY+n.top-62-10;window.scrollTo(0,o)}function q(t){document.querySelector(".js-profile-editable-area").hidden=t,document.querySelector(".js-profile-editable-form").hidden=!t,document.querySelector(".js-profile-editable-error").textContent=""}n("click",".js-org-filter-link",(function(t){t.stopPropagation(),t.preventDefault();const e=t.currentTarget,n=e.closest(".js-org-filter-links-container").querySelector(".js-org-filter-link.selected"),o=new URL(e.href,window.location.origin),r=new URLSearchParams(o.search.slice(1)),i=r.get("org"),l=y(),u=new Date(l.first),d=new Date(l.last);n&&n.classList.remove("selected"),e!==n&&e.classList.add("selected"),S(i);const p=c(),g={org:i,from:null,to:null};r.has("from")&&(g.from=u),r.has("to")&&(g.to=d);const h=f(p.search.slice(1),g);p.search=h.toString(),m(p.toString()),async function(t,e){const n=document.getElementById("year-list-container");if(!n)return;e.append("year_list","1"),t.search=e.toString();const o=await a(document,t.toString());n.innerHTML="",n.append(o)}(p,h),s(null,"",p.toString())})),n("click",".js-year-link",(function(t){t.stopPropagation(),t.preventDefault();const e=t.currentTarget;e.closest("ul").querySelector(".js-year-link.selected").classList.remove("selected"),e.classList.add("selected"),L(e.href),s(null,"",e.href)})),function(){const t=window.location.hash;if(!t||t.indexOf("#event-")<0)return;const e=t.slice(1,t.length),n=document.getElementById(e);n&&k(n)}(),window.addEventListener("hashchange",(function(t){const e=t.newURL||window.location.href,n=e.slice(e.indexOf("#")+1,e.length),o=document.getElementById(n);o&&(t.stopPropagation(),k(o))})),r(".js-show-more-timeline-form",(async function(t,e){await e.text();const n=document.querySelector(".js-show-more-timeline-form");if(n){const e=n.getAttribute("data-year"),o=document.querySelector(".js-year-link.selected"),r=document.querySelector("#year-link-"+e);o.classList.remove("selected"),r.classList.add("selected");if(e!==t.getAttribute("data-year")){const t=n.getAttribute("data-from"),e=new Date(t),o=n.getAttribute("data-to");p(e,new Date(o),n.getAttribute("data-org"))}}document.title=t.getAttribute("data-title")||"",s(null,"",t.getAttribute("data-url")||"")})),o(".js-activity-overview-graph-container",(t=>{!async function(t){const{initializeOverviewGraphContainer:n}=await e.import("./chunk-contributions-spider-graph.js");n(t)}(t)})),n("click",".js-profile-editable-edit-button",(function(){!function(){const t=document.querySelector(".js-user-profile-bio").textContent;if("string"!=typeof t)return;document.querySelector(".js-user-profile-bio-edit").value=t}(),q(!0)})),n("click",".js-profile-editable-cancel",(function(){q(!1)})),r(".js-profile-editable-form",(async(t,e)=>{let n;try{n=await e.html()}catch(r){if(422===r.response.status){document.querySelector(".js-profile-editable-error").textContent=r.response.json.message}return}var o;o=n.html,document.querySelector(".js-profile-editable-area").replaceWith(o),q(!1)}));let A=null,C=null;function x(t){const{item:e,oldIndex:n}=t,{parentNode:o}=e;C=o.children[n+1]}async function T(t){const{oldIndex:e,newIndex:n,item:o}=t;if(e===n)return;const r=o.closest(".js-pinned-items-reorder-form"),s=r.closest(".js-pinned-items-reorder-container"),a=s.querySelector(".js-pinned-items-spinner"),c=s.querySelector(".js-pinned-items-reorder-message");c.textContent="",a.style.display="inline-block",A.option("disabled",!0);try{await i(r.action,{method:r.method,body:new FormData(r)}),c.textContent=c.getAttribute("data-success-text")||"",a.style.display="none",A.option("disabled",!1)}catch(l){c.textContent=c.getAttribute("data-error-text")||"",a.style.display="none";const t=o.parentNode;C?t.insertBefore(o,C):t.appendChild(o)}}function U(t,e){e>0?(t.textContent=function(t){return t>999?(t/1e3).toFixed(1)+"k":t.toLocaleString()}(e),t.hidden=!1):t.remove()}o(".js-pinned-items-reorder-list",{async add(t){const{Sortable:n}=await e.import("./chunk-sortable-behavior.js");A=n.create(t,{animation:150,item:".js-pinned-item-list-item",handle:".js-pinned-item-reorder",onUpdate:T,onStart:x,chosenClass:"is-dragging"})}}),n("submit",".js-pinned-items-reorder-form",(function(t){t.preventDefault()})),n("click",".js-pinned-item-list-item .js-sortable-button",(async function({currentTarget:t}){const{moveWithButton:n}=await e.import("./chunk-sortable-behavior.js");n(t,t.closest(".js-pinned-item-list-item"),T)})),n("click",".js-pinned-items-dialog",(()=>{e.import("./chunk-profile-pins-element.js")})),o(".js-user-profile-sticky-fields.is-stuck",(function(){const t=document.querySelector(".js-user-profile-sticky-bar");return{add(){t.classList.add("is-stuck")},remove(){t.classList.remove("is-stuck")}}})),o(".js-user-profile-follow-button.is-stuck",(function(){const t=document.querySelector(".js-user-profile-sticky-bar");return{add(){t.classList.add("is-follow-stuck")},remove(){t.classList.remove("is-follow-stuck")}}})),o(".js-profile-tab-count-container",(function(t){!async function(t){const e=new URL(t.getAttribute("data-url"),window.location.origin),n=new URLSearchParams(e.search.slice(1)),o=t.querySelector(".js-profile-repository-count"),r=t.querySelector(".js-profile-project-count"),s=t.querySelector(".js-profile-team-count"),a=t.querySelector(".js-profile-member-count");o&&n.append("repo","1"),r&&n.append("project","1"),s&&n.append("team","1"),a&&n.append("member","1"),e.search=n.toString();const c=await i(e.toString()),l=(await c.json()).data;o&&l.repositories&&U(o,l.repositories.totalCount),r&&l.projects&&U(r,l.projects.totalCount),s&&l.teams&&U(s,l.teams.totalCount),a&&l.members&&U(a,l.members.totalCount)}(t)}))}}}));
//# sourceMappingURL=profile-04bdd9ef.js.map
